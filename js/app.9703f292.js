(function(e){function t(t){for(var r,n,o=t[0],l=t[1],c=t[2],d=0,v=[];d<o.length;d++)n=o[d],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&v.push(s[n][0]),s[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(v.length)v.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],r=!0,n=1;n<a.length;n++){var l=a[n];0!==s[l]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},s={app:0},i=[];function n(e){return o.p+"js/"+({about:"about"}[e]||e)+"."+{about:"e3edb49e"}[e]+".js"}function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(e){var t=[],a=s[e];if(0!==a)if(a)t.push(a[2]);else{var r=new Promise((function(t,r){a=s[e]=[t,r]}));t.push(a[2]=r);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=n(e);var c=new Error;i=function(t){l.onerror=l.onload=null,clearTimeout(d);var a=s[e];if(0!==a){if(a){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",c.name="ChunkLoadError",c.type=r,c.request=i,a[1](c)}s[e]=void 0}};var d=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(t)},o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"016d":function(e,t,a){"use strict";a("cd91")},"09e0":function(e,t,a){},1975:function(e,t,a){},"20be":function(e,t,a){"use strict";a("e738")},2111:function(e,t,a){e.exports=a.p+"img/callcenter.9794fff5.png"},"2b56":function(e,t,a){"use strict";a("09e0")},"303c":function(e,t,a){},"3b04":function(e,t,a){e.exports=a.p+"img/logogoosh.b4d86c9c.svg"},4328:function(e,t,a){"use strict";a("d3cd")},"4fd7":function(e,t,a){},"52e9":function(e,t,a){"use strict";a("4fd7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],n=(a("5c0b"),a("2877")),o={},l=Object(n["a"])(o,s,i,!1,null,null,null),c=l.exports,d=a("f309");r["a"].use(d["a"]);var u=new d["a"]({}),v=(a("d3b7"),a("8c4f")),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-app-bar",{attrs:{app:""}}),a("v-container",{staticClass:"mt-15"},[a("v-row",{staticClass:"mt-15",attrs:{justify:"center"}},[a("v-btn",{attrs:{to:"/dashboard"}},[e._v("To Dashboard")])],1)],1)],1)},m=[],f=a("d4ec"),g=a("bee2"),h=a("2591"),b=(a("66ce"),{apiKey:"AIzaSyAxO3f8GPBsecYzLMijxpHA6vBrP-eJTdU",authDomain:"taxi-a7298.firebaseapp.com",databaseURL:"https://taxi-a7298.firebaseio.com",projectId:"taxi-a7298",storageBucket:"taxi-a7298.appspot.com",messagingSenderId:"911511166842",appId:"1:911511166842:web:acb7cbc20e9499fa98c0c3",measurementId:"G-96WH5TNPR5"});h["a"].initializeApp(b);var _=h["a"].database(),D=_.ref("users"),y=_.ref("Ride Request"),x=_.ref("drivers"),w=_.ref("availableDrivers"),C=function(){function e(){Object(f["a"])(this,e)}return Object(g["a"])(e,[{key:"getUserData",value:function(){return JSON.parse(localStorage.udata)}},{key:"getAuthStat",value:function(){return!!localStorage.au3s75&&JSON.parse(localStorage.au3s75)}},{key:"removeUdata",value:function(){localStorage.clear()}},{key:"availableDrivers",value:function(){return w}},{key:"driversData",value:function(){return x}},{key:"rideReq",value:function(){return y}},{key:"getAll",value:function(){return D}},{key:"create",value:function(e){return D.push(e)}}]),e}(),k=new C,A={name:"Home",data:function(){return{allUsers:[]}},created:function(){k.driversData().on("value",(function(e){console.log(e.val())}))}},R=A,V=a("6544"),S=a.n(V),j=a("7496"),O=a("40dc"),T=a("8336"),M=a("a523"),P=a("0fd9"),q=Object(n["a"])(R,p,m,!1,null,null,null),L=q.exports;S()(q,{VApp:j["a"],VAppBar:O["a"],VBtn:T["a"],VContainer:M["a"],VRow:P["a"]});var z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"keep"}},[a("headerr"),a("sidebar"),a("v-main",[a("v-container",{attrs:{fluid:""}},[a("router-view")],1)],1)],1)},E=[],$=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app-bar",{staticClass:"header-nav",attrs:{app:"",color:"white",dark:"",flat:"",height:"45"}},[r("img",{staticClass:"logo mt-5 mx-5",attrs:{src:a("3b04"),alt:"",srcset:""}}),r("v-spacer")],1)},N=[],B={name:"headerr"},I=B,F=(a("71a9"),a("2fa4")),U=Object(n["a"])(I,$,N,!1,null,"00445e4f",null),J=U.exports;S()(U,{VAppBar:O["a"],VSpacer:F["a"]});var H=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-dialog",{attrs:{persistent:"","max-width":"900px",fullscreen:e.$vuetify.breakpoint.mobile},model:{value:e.newDriverDialog,callback:function(t){e.newDriverDialog=t},expression:"newDriverDialog"}},[r("v-card",{staticStyle:{"border-radius":"0px","overflow-x":"none"}},[r("v-row",{staticClass:"mt-5 mb-1"},[r("v-card-title",{staticClass:"mx-2 text-h4"},[e._v(" Add new Driver ")]),r("v-spacer"),r("v-btn",{staticClass:"mt-4 mr-3",attrs:{color:"error",text:""},on:{click:function(t){e.newDriverDialog=!1}}},[e._v("close")])],1),r("v-divider"),r("v-container",[r("v-form",{ref:"form",model:{value:e.newDriver,callback:function(t){e.newDriver=t},expression:"newDriver"}},[r("v-row",[r("v-col",{staticClass:"mt-3",attrs:{cols:"12"}},[r("h3",[r("v-icon",{staticClass:"px-2",attrs:{size:"30"}},[e._v("mdi-account")]),e._v(" Personal Data ")],1)]),r("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[r("v-text-field",{attrs:{rules:[function(e){return!!e||"Name is required"}],label:"Full Name*",outlined:"",required:""},model:{value:e.drData.personal.name,callback:function(t){e.$set(e.drData.personal,"name",t)},expression:"drData.personal.name"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[r("v-text-field",{attrs:{rules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],label:"Email*",outlined:"",required:""},model:{value:e.drData.personal.email,callback:function(t){e.$set(e.drData.personal,"email",t)},expression:"drData.personal.email"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[r("v-text-field",{attrs:{rules:[function(e){return!!e||"Phone is required"}],outlined:"",type:"number",label:"Phone Number*",hint:"example of persistent helper text","persistent-hint":"",required:""},model:{value:e.drData.personal.phone,callback:function(t){e.$set(e.drData.personal,"phone",t)},expression:"drData.personal.phone"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[r("v-text-field",{attrs:{type:"password",rules:[function(e){return!!e||"Password is required"},function(e){return e&&e.length>=8||"Password must be atleast 8 charachters"}],outlined:"",label:"Password*",hint:"Enter user password","persistent-hint":"",required:""},model:{value:e.drData.personal.password,callback:function(t){e.$set(e.drData.personal,"password",t)},expression:"drData.personal.password"}})],1),r("v-col",{staticClass:"mt-3",attrs:{cols:"12"}},[r("h3",[r("v-icon",{staticClass:"px-2",attrs:{size:"30"}},[e._v("mdi-car")]),e._v(" Car Details ")],1)]),r("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[r("v-text-field",{attrs:{label:"Car Color*",outlined:"",required:"",rules:[function(e){return!!e||"Color is required"}]},model:{value:e.drData.car.color,callback:function(t){e.$set(e.drData.car,"color",t)},expression:"drData.car.color"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[r("v-text-field",{attrs:{label:"Car Model*",rules:[function(e){return!!e||"Car Model is required"}],outlined:"",required:""},model:{value:e.drData.car.model,callback:function(t){e.$set(e.drData.car,"model",t)},expression:"drData.car.model"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[r("v-text-field",{attrs:{label:"Plate No*",rules:[function(e){return!!e||"Plate No is required"}],outlined:"",required:""},model:{value:e.drData.car.plate_no,callback:function(t){e.$set(e.drData.car,"plate_no",t)},expression:"drData.car.plate_no"}})],1),r("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[r("v-select",{attrs:{rules:[function(e){return!!e||"Car Type is required"}],label:"Car Type*",items:["Bajaj","Taxi"],outlined:"",required:""},model:{value:e.drData.car.type,callback:function(t){e.$set(e.drData.car,"type",t)},expression:"drData.car.type"}}),r("center",[r("v-btn",{attrs:{block:"",outlined:"",elevation:"3",loading:e.loading},on:{click:e.saveNewDriver}},[e._v("Save Data")])],1)],1)],1)],1)],1)],1)],1),r("span",{staticClass:"icon"}),r("v-navigation-drawer",{staticClass:"drawer",attrs:{app:"",floating:!1},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("v-avatar",{staticClass:"avatar"},[r("img",{attrs:{src:a("2111"),alt:"John"}})]),r("v-list-item",[r("v-list-item-content",{staticClass:"text-center mb-5"},[r("v-list-item-title",{staticClass:"title text-center"},[e._v(" "+e._s(e.getuserdata().email)+" ")])],1)],1),r("v-divider"),r("v-list",{attrs:{dense:"",nav:""}},e._l(e.items,(function(t){return r("v-list-item",{key:t.title,attrs:{to:t.to,link:""}},[r("v-list-item-content",[r("v-list-item-title",[e._v(e._s(t.title))])],1)],1)})),1),r("v-spacer"),r("div",{staticClass:"button2"},[r("v-btn",{staticClass:"btn",attrs:{dark:"",color:"green darken-2"},on:{click:function(t){e.newDriverDialog=!0}}},[e._v("Add Drivers "),r("v-icon",{staticClass:"pl-3"},[e._v("mdi-car")])],1)],1),r("div",{staticClass:"button"},[r("v-btn",{staticClass:"btn",attrs:{outlined:"",light:""},on:{click:e.logout}},[e._v("Logout "),r("v-icon",{staticClass:"pl-3"},[e._v("mdi-logout")])],1)],1)],1)],1)},W=[],G=(a("b0c0"),a("4fad"),a("3835")),K={name:"sidebar",props:{source:String},data:function(){return{newDriver:!1,drawer:!0,drData:{personal:{name:"",email:"",password:"",phone:null},car:{color:"",model:"",type:"",plate_no:""}},loading:!1,newDriverDialog:!1,items:[{title:"Drivers",to:"/drivers"},{title:"Customers",to:"/customers"},{title:"Ride Requests",to:"/riderequests"},{to:"/maps",title:"Goosh Map"},{title:"Goosh Blogs",to:"/blogs"},{title:"Notifications",to:"/notifications"}]}},methods:{showMessage:function(e,t,a){var r={position:"top-right",timeout:t,closeOnClick:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0};switch(e){case"error":this.$toast.error(a,r);break;case"info":this.$toast.info(a,r);break;case"success":this.$toast.success(a,r);break;default:break}},saveNewDriver:function(){var e=this;this.$refs.form.validate()&&(this.loading=!0,_.app.auth().createUserWithEmailAndPassword(this.drData.personal.email,this.drData.personal.password).then((function(t){var a={name:e.drData.personal.name,email:e.drData.personal.email,phone:e.drData.personal.phone},r={type:e.drData.car.type,"car model":e.drData.car.model,"plate number":e.drData.car.plate_no,"car color":e.drData.car.color};k.getAll().child(t.user.uid).set(a);for(var s=0,i=Object.entries(a);s<i.length;s++){var n=Object(G["a"])(i[s],2),o=n[0],l=n[1];k.driversData().child(t.user.uid).child(o).set(l)}k.driversData().child(t.user.uid).child("car_details").set(r),t.user&&(e.showMessage("success",4e3,"Driver Created Successfully"),e.$refs.form.reset()),e.loading=!1})).catch((function(t){e.loading=!1,e.showMessage("error",4e3,t.message)})))},getuserdata:function(){return k.getUserData()},logout:function(){var e=this;_.app.auth().signOut().then((function(){k.removeUdata(),e.$router.push("/")})).catch((function(e){console.error(e)}))}}},X=K,Y=(a("e620"),a("8212")),Z=a("b0af"),Q=a("99d9"),ee=a("62ad"),te=a("169a"),ae=a("ce7e"),re=a("4bd4"),se=a("132d"),ie=a("8860"),ne=a("da13"),oe=a("5d23"),le=a("f774"),ce=a("b974"),de=a("8654"),ue=Object(n["a"])(X,H,W,!1,null,"cae59156",null),ve=ue.exports;S()(ue,{VAvatar:Y["a"],VBtn:T["a"],VCard:Z["a"],VCardTitle:Q["c"],VCol:ee["a"],VContainer:M["a"],VDialog:te["a"],VDivider:ae["a"],VForm:re["a"],VIcon:se["a"],VList:ie["a"],VListItem:ne["a"],VListItemContent:oe["a"],VListItemTitle:oe["b"],VNavigationDrawer:le["a"],VRow:P["a"],VSelect:ce["a"],VSpacer:F["a"],VTextField:de["a"]});var pe={components:{headerr:J,sidebar:ve},name:"dashboard"},me=pe,fe=(a("2b56"),a("f6c4")),ge=Object(n["a"])(me,z,E,!1,null,null,null),he=ge.exports;S()(ge,{VApp:j["a"],VContainer:M["a"],VMain:fe["a"]});var be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"mx-5 my-5"},[a("h3",{staticClass:"headline pt-4"},[e._v("Riders Data")]),a("v-divider",{staticClass:"my-3"}),a("v-data-table",{staticClass:"elevation-1",attrs:{loading:e.loadingDrivers,items:e.driversData,"items-per-page":20,headers:e.headers},scopedSlots:e._u([{key:"item.newRide",fn:function(t){var r=t.item;return[a("v-row",{staticClass:"px-3"},[a("h3",{staticClass:"dopeStyle",staticStyle:{"font-size":"15px"}},[e._v(" "+e._s(r.newRide)+" ")])])]}},{key:"item.phone",fn:function(t){var r=t.item;return[a("v-row",{staticClass:"px-3"},[a("v-icon",{staticClass:"pr-3",attrs:{color:"blue darken-4",size:"30"}},[e._v("mdi-phone")]),a("h3",{staticClass:"dopeStyle",staticStyle:{"font-size":"15px"}},[e._v(" "+e._s(r.phone)+" ")])],1)]}},{key:"item.email",fn:function(t){var r=t.item;return[a("v-row",{staticClass:"px-3"},[a("v-icon",{staticClass:"pr-3",attrs:{color:"blue darken-4",size:"30"}},[e._v("mdi-email")]),a("h3",{staticClass:"dopeStyle",staticStyle:{"font-size":"15px"}},[e._v(" "+e._s(r.email)+" ")])],1)]}},{key:"item.name",fn:function(t){var r=t.item;return[a("v-row",{staticClass:"px-3"},[a("v-icon",{staticClass:"pr-3",attrs:{color:"blue darken-4",size:"30"}},[e._v("mdi-account")]),a("h3",{staticClass:"dopeStyle",staticStyle:{"font-size":"15px"}},[e._v(" "+e._s(r.name)+" ")])],1)]}},{key:"item.ratings",fn:function(e){var t=e.item;return[a("v-rating",{attrs:{small:"",value:t.ratings,"background-color":"orange lighten-3",color:"orange"}})]}},{key:"item.earnings",fn:function(t){var r=t.item;return[void 0!==r.earnings?a("v-chip",[e._v(e._s(r.earnings)),a("span",{staticClass:"px-3"},[e._v("ETB")])]):e._e()]}}],null,!0)})],1)},_e=[],De=(a("4160"),a("b64b"),a("159b"),{mounted:function(){this.getAllDrivers()},methods:{getAllDrivers:function(){var e=this;this.loadingDrivers=!0,k.driversData().on("value",(function(t){e.loadingDrivers=!1,Object.keys(t.val()).forEach((function(a){e.driversData.push(t.val()[a])}))}))}},data:function(){return{loadingDrivers:!1,headers:[{text:"Name",align:"start",sortable:!1,value:"name"},{text:"Email",align:"start",sortable:!1,value:"email"},{text:"Phone No",align:"start",sortable:!1,value:"phone"},{text:"New Ride",align:"start",sortable:!1,value:"newRide"},{text:"Earnings",align:"start",sortable:!1,value:"earnings"},{text:"Ratings",align:"start",sortable:!1,value:"ratings"}],driversData:[]}}}),ye=De,xe=a("cc20"),we=a("8fea"),Ce=a("1d4d"),ke=Object(n["a"])(ye,be,_e,!1,null,null,null),Ae=ke.exports;S()(ke,{VChip:xe["a"],VDataTable:we["a"],VDivider:ae["a"],VIcon:se["a"],VRating:Ce["a"],VRow:P["a"]});var Re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"mx-5 my-5"},[a("div",[a("h3",{staticClass:"pt-4 dopeStyle font-weight-bold",staticStyle:{"font-size":"30px"}},[e._v(" Ride Requests ")]),a("v-divider",{staticClass:"my-3"}),a("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",loading:e.loadingData,items:e.allRequests,"items-per-page":20,headers:e.headers},scopedSlots:e._u([{key:"item.ride_type",fn:function(t){var r=t.item;return[a("v-row",{staticClass:"px-3"},[a("h3",{staticClass:"dopeStyle",staticStyle:{"font-size":"15px"}},[e._v(" "+e._s(r.car_details)+" ")])])]}},{key:"item.car_details",fn:function(t){var r=t.item;return[a("v-row",[a("v-icon",{staticClass:"pr-3",attrs:{color:"blue darken-4",size:"30"}},[e._v("mdi-car")]),a("h3",{staticClass:"dopeStyle",staticStyle:{"font-size":"15px"}},[e._v(" "+e._s(r.car_details)+" ")])],1)]}},{key:"item.pickup_address",fn:function(t){var r=t.item;return[a("v-row",[a("v-icon",{staticClass:"pr-3",attrs:{color:"blue darken-4",size:"30"}},[e._v("mdi-map-marker-plus")]),a("h3",{staticClass:"dopeStyle",staticStyle:{"font-size":"15px"}},[e._v(" "+e._s(r.pickup_address)+" ")])],1)]}},{key:"item.dropoff_address",fn:function(t){var r=t.item;return[a("v-row",[a("v-icon",{staticClass:"pr-3",attrs:{color:"blue darken-4",size:"30"}},[e._v("mdi-map-marker-radius")]),a("h3",{staticClass:"dopeStyle",staticStyle:{"font-size":"15px"}},[e._v(" "+e._s(r.dropoff_address)+" ")])],1)]}},{key:"item.email",fn:function(t){var r=t.item;return[a("v-row",[a("v-icon",{staticClass:"pr-3",attrs:{color:"blue darken-4",size:"30"}},[e._v("mdi-email")]),a("h3",{staticClass:"dopeStyle",staticStyle:{"font-size":"15px"}},[e._v(" "+e._s(r.email)+" ")])],1)]}},{key:"item.created_at",fn:function(t){var r=t.item;return[a("v-row",[a("v-icon",{staticClass:"pr-3",attrs:{color:"blue darken-4",size:"30"}},[e._v("mdi-clock")]),a("h3",{staticClass:"dopeStyle",staticStyle:{"font-size":"18px"}},[e._v(" "+e._s(new Date(r.created_at).toDateString())),a("span",{staticClass:"px-3"},[e._v("|")]),a("span",[e._v(" "+e._s(new Date(r.created_at).toLocaleTimeString()))])])],1)]}},{key:"item.actions",fn:function(t){var r=t.item;return[a("v-row",{staticClass:"ml-5",attrs:{td:r}},[a("v-btn",{staticClass:"my-7",attrs:{depressed:""}},[e._v("See Rider")])],1)]}}],null,!0)})],1)])},Ve=[],Se={mounted:function(){this.getAllDrivers()},methods:{getAllDrivers:function(){var e=this;this.loadingData=!0,k.rideReq().on("value",(function(t){e.loadingData=!1,console.warn(t.val()),Object.keys(t.val()).forEach((function(a){Object.keys(t.val()[a]).length>1&&(e.allRequests.push(t.val()[a]),console.warn(t.val()[a]))}))}))}},data:function(){return{allRequests:[],loadingData:!1,headers:[{text:"Car Details",align:"start",sortable:!1,value:"car_details"},{text:"Ride Type",align:"center",sortable:!0,value:"ride_type"},{text:"Pickup Address",align:"start",sortable:!1,value:"pickup_address"},{text:"Drop Off Address",align:"start",sortable:!1,value:"dropoff_address"},{text:"Created At",align:"start",sortable:!0,value:"created_at"},{text:"",align:"start",sortable:!1,value:"actions"}]}}},je=Se,Oe=Object(n["a"])(je,Re,Ve,!1,null,null,null),Te=Oe.exports;S()(Oe,{VBtn:T["a"],VDataTable:we["a"],VDivider:ae["a"],VIcon:se["a"],VRow:P["a"]});var Me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"mx-5 my-5"},[a("span",{staticClass:"headline pt-4"},[e._v("Goosh Customers")]),a("v-divider",{staticClass:"my-3"}),a("v-data-table",{staticClass:"elevation-1",attrs:{loading:e.loadingData,items:e.allUsers,"items-per-page":20,headers:e.headers},scopedSlots:e._u([{key:"item.name",fn:function(t){var r=t.item;return[a("router-link",{attrs:{to:"/singlerider"}},[e._v(e._s(r.name))])]}},{key:"item.email",fn:function(t){var r=t.item;return[a("v-row",[a("v-icon",{staticClass:"pr-3",attrs:{color:"teal",size:"15"}},[e._v("mdi-email")]),a("a",{attrs:{href:"mailto:item.email"}},[e._v(e._s(r.email))])],1)]}},{key:"item.phone",fn:function(t){var r=t.item;return[a("v-row",[a("v-icon",{staticClass:"pr-3",attrs:{color:"teal",size:"17"}},[e._v("mdi-phone")]),a("a",{attrs:{href:"tel:item.phone"}},[e._v(e._s(r.phone))])],1)]}},{key:"item.actions",fn:function(t){var r=t.item;return[a("v-row",{staticClass:"ml-5",attrs:{td:r}},[a("v-btn",{attrs:{outlined:""}},[e._v("User Details")]),a("v-btn",{staticClass:"mx-6",attrs:{outlined:""}},[e._v("Travel History")])],1)]}}],null,!0)})],1)},Pe=[],qe={mounted:function(){this.getAllDrivers()},methods:{getAllDrivers:function(){var e=this;this.loadingData=!0,k.getAll().on("value",(function(t){e.loadingData=!1,Object.keys(t.val()).forEach((function(a){Object.keys(t.val()[a]).length>1&&(e.allUsers.push(t.val()[a]),console.warn(t.val()[a]))}))}))}},data:function(){return{allUsers:[],loadingData:!1,headers:[{text:"Name",align:"start",sortable:!1,value:"name"},{text:"Email",align:"start",sortable:!1,value:"email"},{text:"Phone No",align:"start",sortable:!1,value:"phone"},{text:"",align:"start",sortable:!1,value:"actions"}]}}},Le=qe,ze=(a("5bbc"),Object(n["a"])(Le,Me,Pe,!1,null,"fb358acc",null)),Ee=ze.exports;S()(ze,{VBtn:T["a"],VDataTable:we["a"],VDivider:ae["a"],VIcon:se["a"],VRow:P["a"]});var $e=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("div",{staticClass:"wrapper"},[r("form",{staticClass:"form-signin"},[r("center",[r("v-avatar",{staticClass:"avatar mt-5"},[r("img",{attrs:{src:a("2111"),alt:"John"}})])],1),r("h2",{staticClass:"form-signin-heading text-center pt-2"},[e._v("Please login")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",name:"username",placeholder:"Email Address",required:"",autofocus:""},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control bottom",attrs:{type:"password",name:"password",placeholder:"Password",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),r("v-btn",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{block:"",loading:e.loading},on:{click:e.loginUser}},[e._v(" Login ")])],1)])])},Ne=[],Be=(a("96cf"),a("1da1")),Ie={methods:{showMessage:function(e,t,a){var r={position:"top-right",timeout:t,closeOnClick:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0};switch(e){case"error":this.$toast.error(a,r);break;case"info":this.$toast.info(a,r);break;case"success":this.$toast.success(a,r);break;default:break}},loginUser:function(){var e=this;return Object(Be["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,_.app.auth().signInWithEmailAndPassword(e.username,e.password).then((function(t){e.loading=!1;var a=t.user;k.driversData().child(a.uid).once("value",(function(t){var a=t.val();null!=a&&a.isAdmin?(localStorage.setItem("udata",JSON.stringify(a)),localStorage.setItem("au3s75",!0),e.showMessage("success",4e3,"You have been authenticated !!!!"),e.$router.push("/maps")):e.showMessage("error",4e3,"You don't have admin privillages !!!")}))})).catch((function(t){e.loading=!1,console.warn(e.username,e.password);var a=t.message;e.showMessage("error",4e3,a)}));case 3:case"end":return t.stop()}}),t)})))()}},data:function(){return{username:"",password:"",loading:!1}}},Fe=Ie,Ue=(a("016d"),Object(n["a"])(Fe,$e,Ne,!1,null,"36ad15f6",null)),Je=Ue.exports;S()(Ue,{VApp:j["a"],VAvatar:Y["a"],VBtn:T["a"]});var He=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"mx-5 my-5"},[a("v-card",{attrs:{color:"basil"}},[a("v-card-title",{staticClass:"text-center justify-center py-6"},[a("h1",{staticClass:"font-weight-bold display-3 basil--text"},[e._v("BASiL")])]),a("v-tabs",{attrs:{"background-color":"transparent",color:"basil",grow:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.items,(function(t){return a("v-tab",{key:t},[e._v(" "+e._s(t)+" ")])})),1),a("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tab-item",[a("v-card",[a("div",{staticClass:"container"},[a("v-text-field",{attrs:{label:"Blog title",rules:e.rules,"hide-details":"auto"}}),a("v-textarea",{attrs:{color:"black",label:"Label",rules:e.rules}}),a("v-btn",{staticClass:"button",attrs:{block:""}},[e._v(" Submit ")])],1)])],1),a("v-tab-item",[a("v-card",{staticClass:"mx-auto my-12 container",attrs:{loading:e.loading}},[a("v-card-title",[e._v("Cafe Badilico")]),a("v-card-text",[a("div",{staticClass:"my-4 subtitle-1"},[e._v("$ • Italian, Cafe")]),a("div",[e._v(" Small plates, salads & sandwiches - an intimate setting with 12 indoor seats plus patio seating. ")])]),a("v-card-actions",[a("v-btn",{attrs:{color:"blue lighten-2",text:""},on:{click:e.reserve}},[e._v(" edit ")]),a("v-btn",{attrs:{color:"red lighten-2",text:""},on:{click:e.reserve}},[e._v(" delete ")])],1)],1)],1)],1)],1)],1)},We=[],Ge={data:function(){return{tab:null,items:["Appetizers","Entrees"],text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",rules:[function(e){return!!e||"Required."},function(e){return e&&e.length>=3||"Min 3 characters"}]}}},Ke=Ge,Xe=(a("20be"),a("71a3")),Ye=a("c671"),Ze=a("fe57"),Qe=a("aac8"),et=a("a844"),tt=Object(n["a"])(Ke,He,We,!1,null,"082450ef",null),at=tt.exports;S()(tt,{VBtn:T["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VTab:Xe["a"],VTabItem:Ye["a"],VTabs:Ze["a"],VTabsItems:Qe["a"],VTextField:de["a"],VTextarea:et["a"]});var rt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"mx-5 my-5"},[a("v-card",{attrs:{color:"basil"}},[a("v-card-title",{staticClass:"text-center justify-center py-6"},[a("h1",{staticClass:"font-weight-bold display-3 basil--text"},[e._v("notification")])]),a("v-divider"),a("div",{staticClass:"container"},[a("span",{staticClass:"notification"},[a("span",{staticClass:"text"},[e._v("driver "),a("router-link",{attrs:{to:"/singledriver"}},[e._v("achmed")]),e._v(" has finished his subscription ")],1),a("span",{staticClass:"time"},[e._v("23:24")])])])],1)],1)},st=[],it=(a("52e9"),{}),nt=Object(n["a"])(it,rt,st,!1,null,"c708f656",null),ot=nt.exports;S()(nt,{VCard:Z["a"],VCardTitle:Q["c"],VDivider:ae["a"]});var lt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"mx-5 my-5"},[a("v-card",{staticClass:"card",attrs:{color:"basil"}},[a("div",{staticClass:"profile"},[a("span",{staticClass:"avatar-container"},[a("v-avatar",{staticClass:"avatar"},[a("img",{attrs:{src:"https://cdn.vuetifyjs.com/images/john.jpg",alt:"John"}})])],1),a("h3",[e._v("Achmed")]),a("h5",[a("a",{attrs:{href:"tel:+251916171811"}},[e._v("+251916171811")])]),a("h5",[a("a",{attrs:{href:"mailto:Elonmusk@spaceX.com"}},[e._v(" Elonmusk@spaceX.com")])])]),a("v-divider"),a("div",{staticClass:"card-body"},[a("div",{staticClass:"rating right"},[a("h4",{staticStyle:{display:"inline-block !important"}},[e._v("Rating")]),a("span",{staticClass:"black--text text--lighten-2 caption mr-2"},[e._v(" ("+e._s(e.rating)+") ")]),a("v-rating",{attrs:{"background-color":"black",color:"yellow accent-4",dense:"","half-increments":"",hover:"",size:"18"},model:{value:e.rating,callback:function(t){e.rating=t},expression:"rating"}})],1),a("div",{staticClass:"previous-rides left"},[a("h4",[e._v("Previous Rides")]),a("br"),a("span",[e._v("Passenger : "),a("strong",[a("a",{attrs:{href:""}},[e._v("amien")])]),e._v(" code: "),a("strong",[a("a",{attrs:{href:""}},[e._v("#ghtufj")])])]),a("span",{staticClass:"notification"},[a("span",{staticClass:"from"},[e._v("piasa ")]),e._v(" to "),a("span",{staticClass:"to"},[e._v("bole airport")])])])]),a("v-card-actions",{staticClass:"card-action"},[a("v-divider"),a("v-btn",{attrs:{color:"blue lighten-2",text:""},on:{click:e.reserve}},[e._v(" edit ")]),a("v-btn",{attrs:{color:"red lighten-2",text:""},on:{click:e.reserve}},[e._v(" ban ")]),a("v-btn",{attrs:{color:"red lighten-2",text:""},on:{click:e.reserve}},[e._v(" delete ")])],1)],1)],1)},ct=[],dt={data:function(){return{rating:4.3}}},ut=dt,vt=(a("c9be"),Object(n["a"])(ut,lt,ct,!1,null,"15155888",null)),pt=vt.exports;S()(vt,{VAvatar:Y["a"],VBtn:T["a"],VCard:Z["a"],VCardActions:Q["a"],VDivider:ae["a"],VRating:Ce["a"]});var mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main",{staticClass:"mx-5 my-5"},[a("v-card",{staticClass:"card",attrs:{color:"basil"}},[a("div",{staticClass:"profile"},[a("span",{staticClass:"avatar-container"},[a("v-avatar",{staticClass:"avatar"},[a("img",{attrs:{src:"https://cdn.vuetifyjs.com/images/john.jpg",alt:"John"}})])],1),a("h3",[e._v("Achmed")]),a("h5",[a("a",{attrs:{href:"tel:+251916171811"}},[e._v("251916171811")])]),a("h5",[a("a",{attrs:{href:"mailto:Elonmusk@spaceX.com"}},[e._v(" Elonmusk@spaceX.com")])])]),a("v-divider"),a("div",{staticClass:"card-body"},[a("div",{staticClass:"rating right"},[a("h4",{staticStyle:{display:"inline-block !important"}},[e._v("Rating")]),a("span",{staticClass:"black--text text--lighten-2 caption mr-2"},[e._v(" ("+e._s(e.rating)+") ")]),a("v-rating",{attrs:{"background-color":"black",color:"yellow accent-4",dense:"","half-increments":"",hover:"",size:"18"},model:{value:e.rating,callback:function(t){e.rating=t},expression:"rating"}})],1),a("div",{staticClass:"previous-rides left"},[a("h4",[e._v("Previous Rides")]),a("br"),a("span",[e._v("Driver: "),a("strong",[a("a",{attrs:{href:""}},[e._v("amien")])]),e._v(" code: "),a("strong",[a("a",{attrs:{href:""}},[e._v("#ghtufj")])])]),a("span",{staticClass:"notification"},[a("span",{staticClass:"from"},[e._v("piasa ")]),e._v(" to "),a("span",{staticClass:"to"},[e._v("bole airport")])])])]),a("v-card-actions",{staticClass:"card-action"},[a("v-divider"),a("v-btn",{attrs:{color:"blue lighten-2",text:""},on:{click:e.reserve}},[e._v(" edit ")]),a("v-btn",{attrs:{color:"red lighten-2",text:""},on:{click:e.reserve}},[e._v(" ban ")]),a("v-btn",{attrs:{color:"red lighten-2",text:""},on:{click:e.reserve}},[e._v(" delete ")])],1)],1)],1)},ft=[],gt={data:function(){return{rating:4.3}}},ht=gt,bt=(a("bc96"),Object(n["a"])(ht,mt,ft,!1,null,"d64a5f6a",null)),_t=bt.exports;S()(bt,{VAvatar:Y["a"],VBtn:T["a"],VCard:Z["a"],VCardActions:Q["a"],VDivider:ae["a"],VRating:Ce["a"]});var Dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-dialog",{attrs:{persistent:"","max-width":"400"},model:{value:e.initRiReq,callback:function(t){e.initRiReq=t},expression:"initRiReq"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v(" Proceed to final step ? ")]),a("v-card-text",{staticClass:"mt-5"},[a("span",{staticClass:"dopeStyle font-weight-bold",staticStyle:{"font-size":"22px"}},[e._v(" Taxi Fare:")]),a("span",{staticClass:"dopeStyle font-weight-bold",staticStyle:{"font-size":"25px"}},[e._v(" "+e._s(Math.round(e.totalFare.ride)+" ETB"))])]),a("v-card-text",[a("span",{staticClass:"dopeStyle font-weight-bold",staticStyle:{"font-size":"22px"}},[e._v(" Bajaj Fare:")]),a("span",{staticClass:"dopeStyle font-weight-bold",staticStyle:{"font-size":"25px"}},[e._v(" "+e._s(Math.round(e.totalFare.bajaj)+" ETB"))])]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.initRiReq=!1}}},[e._v(" Close ")]),a("v-btn",{attrs:{loading:e.loadingNot,color:"green darken-1",text:""},on:{click:e.createRideRequestDial}},[e._v(" Create Ride Request ")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"800px"},model:{value:e.rinfoModal,callback:function(t){e.rinfoModal=t},expression:"rinfoModal"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"font-weight-bold dopeStyle",staticStyle:{"font-size":"23px"}},[e._v("Rider Information")])]),a("v-divider"),a("v-card-text",[a("v-container",{staticClass:"mt-5",attrs:{fluid:""}},[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.validUsrData,callback:function(t){e.validUsrData=t},expression:"validUsrData"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",lg:"6"}},[a("v-text-field",{attrs:{"append-icon":"mdi-account",outlined:"",rules:e.nameRules,label:"Full Name"},model:{value:e.riderData.fullName,callback:function(t){e.$set(e.riderData,"fullName",t)},expression:"riderData.fullName"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",lg:"6"}},[a("v-text-field",{attrs:{type:"number",outlined:"",rules:e.numberRules,label:"Phone Number","append-icon":"mdi-phone"},model:{value:e.riderData.phone,callback:function(t){e.$set(e.riderData,"phone",t)},expression:"riderData.phone"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",lg:"6"}},[a("v-select",{attrs:{outlined:"",rules:e.typeRules,items:e.riderData.types,label:"Transport Type","append-icon":"mdi-car"},model:{value:e.riderData.type,callback:function(t){e.$set(e.riderData,"type",t)},expression:"riderData.type"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",lg:"6"}},[a("v-text-field",{attrs:{outlined:"",label:"Total Estimation","append-icon":"mdi-cash"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.saveRiderData()}}},[e._v(" Save ")])],1)],1)],1),a("section",{staticClass:"ui two column centered grid",staticStyle:{position:"relative","z-index":"1"}},[a("v-divider"),a("v-card",{staticClass:"text-start px-12",attrs:{flat:"",width:"100%",height:"120"}},[a("v-row",{staticClass:"mx-1 mt-2"},[a("div",[a("h3",{staticClass:"px-2 pb-1 pt-5 dopeStyle",staticStyle:{"font-size":"20px"}},[e._v(" Pickup Address ")]),a("v-row",{staticClass:"mx-2"},[a("div",{staticClass:"ui right icon input large",class:{loading:e.spinner}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.addressPickup,expression:"addressPickup"}],ref:"autocompletePick",attrs:{type:"text",placeholder:"Enter your address"},domProps:{value:e.addressPickup},on:{input:function(t){t.target.composing||(e.addressPickup=t.target.value)}}})])])],1),a("div",{staticClass:"mx-5"},[a("h3",{staticClass:"px-2 pb-1 pt-5 dopeStyle",staticStyle:{"font-size":"20px"}},[e._v(" Destination Address ")]),a("v-row",{staticClass:"mx-2"},[a("div",{staticClass:"ui right icon input large",class:{loading:e.spinner}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.addressDst,expression:"addressDst"}],ref:"autocompleteDst",attrs:{type:"text",placeholder:"Enter your address"},domProps:{value:e.addressDst},on:{input:function(t){t.target.composing||(e.addressDst=t.target.value)}}})])])],1),e.readyForReq?a("v-btn",{staticClass:"mt-13 mr-3",attrs:{outlined:"",color:"green darken-3",text:""},on:{click:function(t){return e.proceed()}}},[e._v("Proceed")]):e._e(),a("v-btn",{staticClass:"mt-13",attrs:{outlined:"",color:"blue darken-3",text:""},on:{click:function(t){e.rinfoModal=!0}}},[a("v-icon",{staticClass:"pr-3"},[e._v("mdi-plus")]),e._v(" Rider Info")],1)],1)],1)],1),a("section",{ref:"map",class:{"mx-5":e.$vuetify.breakpoint.lgAndDown,"mx-10":"xl"==e.$vuetify.breakpoint.name},staticStyle:{"margin-top":"120px"},attrs:{id:"map"}})],1)},yt=[],xt=(a("99af"),a("c975"),a("a15b"),a("d81d"),a("a434"),a("b680"),a("ac1f"),a("25f0"),a("1276"),a("bc3a")),wt=a.n(xt),Ct=a("01ac"),kt={data:function(){return{locs:[],noDrivers:!1,initRiReq:!1,readyForReq:!1,validUsrData:!1,numberRules:[function(e){return!!e||"Phone number is required"},function(e){return e&&e.length<=11||"Phone Number must be less than 10 characters"}],nameRules:[function(e){return!!e||"Full name is required"},function(e){return e&&e.length<=200||"Full Name must be less than 10 characters"}],typeRules:[function(e){return!!e||"Transport type is required"}],loadingNot:!1,coreDirectionalDataRoutes:null,rinfoModal:!1,addressPickup:"",addressDst:"",address:"",error:"",clearDst:"",clearSt:"",spinner:!1,apiKey:"AIzaSyBff3nfeR8sNbSrj0ML9U8KyJoJrk0lFts",google:null,pickAddr:{},dstAddr:{},totalFare:{ride:0,bajaj:0},maxDriversAccepted:5,serverToken:"key=AAAA1DpMn3o:APA91bF7hz5O6TdcgLNw5R1x_9b2VekDRWzfIRMXo93FY0qyJ0EtFXIM7DDcFU6xlUbthBOm1AkI2E4fE8uNJ1eNBMA6LC_zu2t2Z2BVi2b2on4FAL1Cv1Sa3w2nPfyyKqEbMTYYArH4",allAvailableDrivers:[],allAvailableCoreDrivers:[],riderData:{fullName:"",phone:null,type:"bajaj",types:["bajaj","taxi"]},allAvailableDriversLoc:[],tokenMain:"",xL:"",allLocs:[]}},mounted:function(){var e=this;return Object(Be["a"])(regeneratorRuntime.mark((function t(){var r,s,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:k.getAuthStat()||(k.removeUdata(),e.$router.push("/")),e.google=window.google,e.plotAllDrivers(8.995834799999999,38.7900826),r=new e.google.maps.places.Autocomplete(e.$refs["autocompletePick"],{bounds:new e.google.maps.LatLngBounds(new e.google.maps.LatLng(45.4215296,-75.6971931))}),s=new e.google.maps.DirectionsService,i=new e.google.maps.DirectionsRenderer,r.addListener("place_changed",(function(){var t=r.getPlace();e.clearSt=t.name,e.showLocationOnTheMap(t.geometry.location.lat(),t.geometry.location.lng()),e.pickAddr={lat:t.geometry.location.lat(),lng:t.geometry.location.lng()};var n=new e.google.maps.Map(e.$refs["map"],{zoom:15,center:new e.google.maps.LatLng(e.pickAddr.lat,e.pickAddr.lng),mapTypeId:e.google.maps.MapTypeId.ROADMAP});i.setMap(n);var o={url:a("e387"),scaledSize:new e.google.maps.Size(60,60)};e.dstAddr.lat&&e.dstAddr.lng?(e.calculateAndDisplayRoute(s,i),e.traceDriversLocation(),e.locs.forEach((function(t){var a=new e.google.maps.Marker({position:new e.google.maps.LatLng(t.loc[0],t.loc[1]),map:n,icon:o,title:t.driver.name,label:{color:"white",fontWeight:"bold",fontSize:"16px"}}),r=new e.google.maps.InfoWindow({content:"<h3>".concat(t.driver.name,"</h3><h4>").concat(t.driver.phone,"</h4>")});a.addListener("click",(function(){r.open(n,a)}))}))):e.plotAllDrivers(e.pickAddr.lat,e.pickAddr.lng)})),n=new e.google.maps.places.Autocomplete(e.$refs["autocompleteDst"],{bounds:new e.google.maps.LatLngBounds(new e.google.maps.LatLng(45.4215296,-75.6971931))}),n.addListener("place_changed",(function(){var t=n.getPlace();e.clearDst=t.name,e.dstAddr={lat:t.geometry.location.lat(),lng:t.geometry.location.lng()};var r=new e.google.maps.Map(e.$refs["map"],{zoom:15,center:new e.google.maps.LatLng(e.pickAddr.lat,e.pickAddr.lng),mapTypeId:e.google.maps.MapTypeId.ROADMAP});i.setMap(r);var o={url:a("e387"),scaledSize:new e.google.maps.Size(60,60)};e.pickAddr.lat&&e.pickAddr.lng?(e.calculateAndDisplayRoute(s,i),e.traceDriversLocation(),e.locs.forEach((function(t){var a=new e.google.maps.Marker({position:new e.google.maps.LatLng(t.loc[0],t.loc[1]),map:r,icon:o,title:t.driver.name,label:{text:t.driver.name,color:"white",fontWeight:"bold",fontSize:"16px"}}),s=new e.google.maps.InfoWindow({content:"<h3>".concat(t.driver.name,"</h3><h4>").concat(t.driver.phone,"</h4>")});a.addListener("click",(function(){s.open(r,a)}))}))):e.plotAllDrivers(e.pickAddr.lat,e.pickAddr.lng)}));case 9:case"end":return t.stop()}}),t)})))()},methods:{proceed:function(){this.validUsrData?this.initRiReq=!0:this.showMessage("error",1200,"Complete rider information first !!!")},saveRiderData:function(){this.validUsrData?this.rinfoModal=!1:this.showMessage("error",1e3,"Incomplete rider information !!!")},generate_token:function(e){for(var t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890".split(""),a=[],r=0;r<e;r++){var s=(Math.random()*(t.length-1)).toFixed(0);a[r]=t[s]}return a.join("")},notifyDriver:function(){var e=this;if(this.allAvailableDrivers.length>0){var t=this.allAvailableDrivers[0];k.driversData().child(t.did).child("car_details").child("type").once("value",(function(a){var r=e.allAvailableDrivers.indexOf(t);if(a.exists()){var s=a.val();e.riderData.type==s.toLowerCase()?setTimeout((function(){e.sendNotificationToDriver(e.xL,t),e.allAvailableDrivers.splice(r,1),e.notifyDriver()}),1e4):e.showMessage("error",800,"".concat(e.riderData.type," Driver not found !!!"))}else e.showMessage("error",1200,"NO Drivers found at all"),e.loadingNot=!1}),(function(e){console.error(e)}))}else this.showMessage("error",800,"".concat(this.riderData.type," Drivers not found !!!"))},saveRideRequest:function(){var e=this,t=k.rideReq().push(),a={latitude:this.pickAddr.lat,logitude:this.pickAddr.lng},r={latitude:this.dstAddr.lat,logitude:this.dstAddr.lng};console.error(this.riderData);var s={driver_id:"waiting",payment_method:"cash",pickup:a,dropoff:r,created_at:(new Date).toString(),rider_name:this.riderData.fullName,rider_phone:this.riderData.phone,pickup_address:this.clearSt,dropoff_address:this.clearDst,ride_type:this.riderData.type,fromAdmin:!0};t.set(s),t.once("value",(function(t){e.xL=t.key})).catch((function(e){console.error(e)}))},getFireTrace:function(){0==this.allAvailableDrivers.length?(this.showMessage("error",1200,"No drivers found"),this.noDrivers=!0,this.loadingNot=!1):this.notifyDriver()},sendNotificationToDriver:function(e,t){var a=this;return Object(Be["a"])(regeneratorRuntime.mark((function r(){var s,i,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:console.log(t,"AA"),s={"Content-Type":"application/json",Authorization:a.serverToken},i={body:"DropOff Address, ".concat(a.clearDst),title:"New Ride Request"},n={click_action:"FLUTTER_NOTIFICATION_CLICK",id:"1",status:"done",ride_request_id:e},a.loadingNot=!0,k.driversData().child(t.did).child("token").once("value",(function(){})).then((function(e){var t={notification:i,data:n,priority:"high",to:e.val()};wt.a.post("https://fcm.googleapis.com/fcm/send",t,{headers:s}).then((function(e){a.loadingNot=!1,a.initRiReq=!1,console.log(e);var t={position:"top-right",timeout:1e3,closeOnClick:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,hideProgressBar:!0,showCloseButtonOnHover:!1,closeButton:"button",icon:!0};1==e.data.success&&(console.log(a.$toast),a.$toast.success("Push notification successfully sent to driver !!!!!",t),a.resetEverything())})).catch((function(e){a.resetEverything(),a.loadingNot=!1,console.error("Error sending notification =>",e)}))}));case 6:case"end":return r.stop()}}),r)})))()},resetEverything:function(){this.$refs.form.reset()},getAllAvailableDrivers:function(){var e=this,t=new Ct.GeoFire(h["a"].database().ref().child("availableDrivers")),a=1,r=[];t.query({center:[this.pickAddr.lat,this.pickAddr.lng],radius:10}).on("key_entered",(function(t,s,i){a++,a<=e.maxDriversAccepted&&r.push({did:t,location:s,distance:i}),console.log(t+" entered query at "+s+" ("+i+" km from center)")})),this.allAvailableDrivers=r},calculateFare:function(e){var t=e.durationValue/60*.8,a=e.distanceValue/1e3*13,r=t+a;return r},calculateFareBajaj:function(e){var t=e.durationValue/60*.5,a=e.distanceValue/1e3*10,r=t+a;return r},manageDirectionalDetails:function(){var e=this.coreDirectionalDataRoutes,t={encodedPoints:e.overview_polyline,distanceText:e.legs[0].distance.text,distanceValue:e.legs[0].distance.value,durationText:e.legs[0].duration.text,durationValue:e.legs[0].duration.value};this.totalFare={ride:this.calculateFare(t),bajaj:this.calculateFareBajaj(t)}},calculateAndDisplayRoute:function(e,t){var a=this;e.route({origin:this.clearSt,destination:this.clearDst,travelMode:this.google.maps.TravelMode.DRIVING},(function(e,r){"OK"===r?(t.setDirections(e),a.coreDirectionalDataRoutes=e.routes[0],a.manageDirectionalDetails(),a.getAllAvailableDrivers(),a.readyForReq=!0):a.showMessage("error",1200,"Directions request failed due to "+r)}))},createRideRequestDial:function(){this.loadingNot=!0,this.createRideRequest()},createRideRequest:function(){this.pickAddr.lat&&this.pickAddr.lng?this.dstAddr.lat&&this.dstAddr.lng&&(this.saveRideRequest(),this.getFireTrace()):console.error("inputs are not clean")},traceDriversLocation:function(){var e=this;return Object(Be["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.spinner=!0,t.next=3,k.availableDrivers().once("value",(function(t){if(null==t.val())e.showMessage("error",4e3,"No available drivers found");else for(var a=function(){var t=Object(G["a"])(s[r],2),a=t[0],i=t[1];k.driversData().child(a).once("value").then((function(t){e.locs.push({loc:i.l,key:a,driver:t.val()})}))},r=0,s=Object.entries(t.val());r<s.length;r++)a()}));case 3:case"end":return t.stop()}}),t)})))()},getAddressFrom:function(e,t){var a=this;wt.a.get("https://maps.googleapis.com/maps/api/geocode/json?latlng="+e+","+t+"&key=AIzaSyBff3nfeR8sNbSrj0ML9U8KyJoJrk0lFts").then((function(e){e.data.error_message?(a.error=e.data.error_message,console.log(e.data.error_message)):console.log(e.data.results[0].formatted_address),a.spinner=!1})).catch((function(e){a.error=e.message,a.spinner=!1,console.log(e.message)}))},plotAllDrivers:function(e,t){var r=this,s=new this.google.maps.LatLng(e,t),i=new this.google.maps.Map(this.$refs["map"],{zoom:15,center:s,mapTypeId:this.google.maps.MapTypeId.ROADMAP}),n={url:a("e387"),scaledSize:new this.google.maps.Size(60,60)};this.traceDriversLocation(),this.locs.forEach((function(e){var t=new r.google.maps.Marker({icon:n,position:new r.google.maps.LatLng(e.loc[0],e.loc[1]),map:i,title:e.driver.name}),a=new r.google.maps.InfoWindow({content:"<h3>".concat(e.driver.name,"</h3><h4>").concat(e.driver.phone,"</h4>")});t.addListener("click",(function(){a.open(i,t)}))}))},showLocationOnTheMap:function(e,t){console.error(e,t);var a=new this.google.maps.Map(this.$refs["map"],{zoom:15,center:new this.google.maps.LatLng(e,t),mapTypeId:this.google.maps.MapTypeId.ROADMAP});new this.google.maps.Marker({position:new this.google.maps.LatLng(e,t),map:a}),this.plotAllDrivers(e,t)},showMessage:function(e,t,a){var r={position:"top-right",timeout:t,closeOnClick:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0};switch(e){case"error":this.$toast.error(a,r);break;case"info":this.$toast.info(a,r);break;case"success":this.$toast.success(a,r);break;default:break}}}},At=kt,Rt=(a("6f43"),Object(n["a"])(At,Dt,yt,!1,null,null,null)),Vt=Rt.exports;S()(Rt,{VBtn:T["a"],VCard:Z["a"],VCardActions:Q["a"],VCardText:Q["b"],VCardTitle:Q["c"],VCol:ee["a"],VContainer:M["a"],VDialog:te["a"],VDivider:ae["a"],VForm:re["a"],VIcon:se["a"],VRow:P["a"],VSelect:ce["a"],VSpacer:F["a"],VTextField:de["a"]});var St=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._m(0),a("h1",[e._v("Oops! Something went wrong!")]),a("div",{staticClass:"btn",on:{click:function(t){return e.$router.go(-1)}}},[e._v("Return to Home")])])},jt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"face"},[a("div",{staticClass:"band"},[a("div",{staticClass:"red"}),a("div",{staticClass:"white"}),a("div",{staticClass:"blue"})]),a("div",{staticClass:"eyes"}),a("div",{staticClass:"dimples"}),a("div",{staticClass:"mouth"})])}],Ot=(a("4328"),{}),Tt=Object(n["a"])(Ot,St,jt,!1,null,"467d704c",null),Mt=Tt.exports;r["a"].use(v["a"]);var Pt=[{path:"*",name:"NotFound",component:Mt},{path:"/home",name:"Home",component:L},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}},{path:"/dashboard",name:"Dashboard",component:he,children:[{path:"/maps",name:"maps",component:Vt},{path:"/drivers",name:"Drivers",component:Ae},{path:"/blogs",name:"blogs",component:at},{path:"/notifications",name:"notifications",component:ot},{path:"/singledriver",name:"singledriver",component:pt},{path:"/singlerider",name:"singlerider",component:_t},{path:"/customers",name:"Customers",component:Ee},{path:"/riderequests",name:"RideRequests",component:Te}]},{path:"/",name:"login",component:Je}],qt=new v["a"]({mode:"hash",base:"/",routes:Pt}),Lt=qt,zt=a("6c42");a("da96");r["a"].use(zt["a"]),r["a"].config.productionTip=!1,new r["a"]({vuetify:u,router:Lt,render:function(e){return e(c)}}).$mount("#app")},"5bbc":function(e,t,a){"use strict";a("e15c")},"5c0b":function(e,t,a){"use strict";a("9c0c")},"6f43":function(e,t,a){"use strict";a("b67c")},"71a9":function(e,t,a){"use strict";a("d621")},"9c0c":function(e,t,a){},b67c:function(e,t,a){},bc96:function(e,t,a){"use strict";a("1975")},c9be:function(e,t,a){"use strict";a("ce1d")},cd91:function(e,t,a){},ce1d:function(e,t,a){},d3cd:function(e,t,a){},d621:function(e,t,a){},e15c:function(e,t,a){},e387:function(e,t,a){e.exports=a.p+"img/taxi.d9cdb915.png"},e620:function(e,t,a){"use strict";a("303c")},e738:function(e,t,a){}});
//# sourceMappingURL=app.9703f292.js.map